{"changed":true,"filter":false,"title":"memory.js","tooltip":"/3-gameon/memory/script/memory.js","value":"\"use strict\";\nvar MemoryGame = {\n    \n    memoryBoard: [],\n    \n    init: function(){\n        \n        MemoryGame.createGameBoard(4,4);\n        \n    },\n    \n    createGameBoard: function(rows, cols){\n        \n        var clicks = 0;\n        var clickedTiles = [];\n        var body = \"\";\n        var p = \"\";\n        var tds = \"\";\n        var td = \"\";\n        var divBack = \"\";\n        var divFront =\"\";\n        var a = \"\";\n        var imgFront = \"\";\n        var i = 0;\n        var numberOfGuesses = 0;\n        MemoryGame.memoryBoard = new RandomGenerator.getPictureArray(rows, cols); //Genererar ett antal rader i ett antal kolumner\n        var arrayOfTiles = MemoryGame.memoryBoard;\n        console.log(arrayOfTiles);\n        body = document.querySelector(\"BODY\");\n        p = document.createElement(\"P\");\n        body.appendChild(p);\n        p.innerHTML = \"Antal gissningar: \"+numberOfGuesses;\n        \n        MemoryGame.createBoard(rows, cols);\n        \n        //Plockar ut alla td element och skjuter in en bild\n        tds = document.querySelectorAll(\"#memorygame td\");\n        for(i=0; i<tds.length; i++){\n            td = tds[i];\n            \n            divBack = document.createElement(\"DIV\");\n            divFront = document.createElement(\"DIV\");\n            a = document.createElement(\"A\");\n            a.href = \"#\";\n            imgFront = document.createElement(\"IMG\");\n            imgFront.src = \"pics/\"+arrayOfTiles[i]+\".png\";\n            divFront.appendChild(imgFront);\n            a.appendChild(divBack);\n            a.appendChild(divFront);\n            td.appendChild(a);\n            \n            a.onclick = function(event){\n                \n                if(event.target.nodeName === \"DIV\" && clicks<2){\n                    console.log(\"Du har klickat på div\");\n                    event.target.parentNode.querySelector(\".faceup\").classList.toggle(\"faceup\");\n                    event.target.parentNode.firstChild.classList.toggle(\"facedown\");\n                    clickedTiles.push(event.target);\n                    console.log(clickedTiles.length);\n                    console.log(clickedTiles);\n                    \n                    clicks++;\n                    if(clicks === 2 && clickedTiles[0].nextSibling.firstChild.getAttribute(\"src\") === clickedTiles[1].nextSibling.firstChild.getAttribute(\"src\")){\n                        console.log(\"Grattis du har hittat ett par\");\n                        clickedTiles.length = 0;\n                        clicks = 0;\n                        numberOfGuesses++;\n                    }\n                    else if(clicks === 2 && clickedTiles[0].nextSibling.firstChild.getAttribute(\"src\") != clickedTiles[1].nextSibling.firstChild.getAttribute(\"src\")){\n                        console.log(\"Inget par\");\n                        numberOfGuesses++;\n                        \n                        setTimeout(function() {\n                            clickedTiles[0].parentNode.querySelector(\".facedown\").classList.toggle(\"facedown\");\n                            clickedTiles[1].parentNode.querySelector(\".facedown\").classList.toggle(\"facedown\");\n                            clickedTiles[0].parentNode.firstChild.nextSibling.classList.toggle(\"faceup\");\n                            clickedTiles[1].parentNode.firstChild.nextSibling.classList.toggle(\"faceup\");\n                            clicks = 0;\n                            clickedTiles.length = 0;\n                        }, 500);\n                    }\n                    p.innerHTML = \"Antal gissningar: \"+numberOfGuesses;\n                }\n                else{\n                    console.log(\"Du har redan klickat på den här\");\n                }\n                //p.innerHTML = \"Antal gissningar: \"+numberOfGuesses;\n                return false;\n            };\n            divFront.setAttribute(\"class\", \"faceup\");\n        }  \n    },\n    \n    createBoard: function(rows, cols){\n        \n        var gameBoard = document.getElementById(\"memorygame\");\n        var rowCount = 0;\n        var cellCount = 0;\n        var tableHead = document.createElement(\"THEAD\");\n        var tableFoot = document.createElement(\"TFOOT\");\n        var tableRow = document.createElement(\"TR\");\n        var tableCell = document.createElement(\"TD\");\n        var i = 0;\n        \n        gameBoard.appendChild(tableHead);\n        tableHead.appendChild(tableRow);\n        gameBoard.appendChild(tableFoot);\n        \n        //Skapar tabellen\n        for(rowCount=0; rowCount<rows; rowCount++){\n            tableRow = document.createElement(\"TR\");\n            gameBoard.appendChild(tableRow);\n            for(cellCount=0; cellCount<cols; cellCount++){\n                tableCell = document.createElement(\"TD\");\n                tableRow.appendChild(tableCell);\n                i++;\n            }\n        }\n        \n    }\n};\n\nwindow.onload = MemoryGame.init;","undoManager":{"mark":98,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":85,"column":21},"end":{"row":86,"column":0},"action":"insert","lines":["",""]},{"start":{"row":86,"column":0},"end":{"row":86,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":20},"end":{"row":86,"column":71},"action":"insert","lines":["p.innerHTML = \"Antal gissningar: \"+numberOfGuesses;"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":16},"end":{"row":91,"column":17},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":17},"end":{"row":91,"column":18},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":74,"column":49},"end":{"row":75,"column":0},"action":"insert","lines":["",""]},{"start":{"row":75,"column":0},"end":{"row":75,"column":24},"action":"insert","lines":["                        "]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":24},"end":{"row":76,"column":46},"action":"insert","lines":["","                            numberOfGuesses++;"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":24},"end":{"row":76,"column":28},"action":"remove","lines":["","                            "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":28},"end":{"row":84,"column":29},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":29},"end":{"row":84,"column":30},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":52},"end":{"row":84,"column":48},"action":"remove","lines":["","                            //numberOfGuesses++;"]}]}],[{"group":"doc","deltas":[{"start":{"row":51,"column":12},"end":{"row":51,"column":63},"action":"remove","lines":["p.innerHTML = \"Antal gissningar: \"+numberOfGuesses;"]}]}],[{"group":"doc","deltas":[{"start":{"row":50,"column":12},"end":{"row":51,"column":12},"action":"remove","lines":["","            "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":9},"end":{"row":31,"column":10},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":8},"end":{"row":31,"column":9},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":28},"end":{"row":14,"column":29},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":28},"end":{"row":14,"column":29},"action":"remove","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":28},"end":{"row":14,"column":29},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":28},"end":{"row":14,"column":29},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":55},"end":{"row":87,"column":56},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":56},"end":{"row":87,"column":58},"action":"insert","lines":["||"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":58},"end":{"row":87,"column":59},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":59},"end":{"row":87,"column":60},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":60},"end":{"row":87,"column":61},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":61},"end":{"row":87,"column":62},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":61},"end":{"row":87,"column":62},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":61},"end":{"row":87,"column":62},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":62},"end":{"row":87,"column":63},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":63},"end":{"row":87,"column":64},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":64},"end":{"row":87,"column":65},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":65},"end":{"row":87,"column":66},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":66},"end":{"row":87,"column":67},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":67},"end":{"row":87,"column":68},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":68},"end":{"row":87,"column":69},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":69},"end":{"row":87,"column":70},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":69},"end":{"row":87,"column":70},"action":"remove","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":68},"end":{"row":87,"column":69},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":67},"end":{"row":87,"column":68},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":66},"end":{"row":87,"column":67},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":66},"end":{"row":87,"column":67},"action":"insert","lines":[">"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":67},"end":{"row":87,"column":68},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":68},"end":{"row":87,"column":69},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":55},"end":{"row":87,"column":69},"action":"remove","lines":[" || clicks > 3"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":50},"end":{"row":57,"column":51},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":51},"end":{"row":57,"column":52},"action":"insert","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":52},"end":{"row":57,"column":53},"action":"insert","lines":["&"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":53},"end":{"row":57,"column":54},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":54},"end":{"row":57,"column":55},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":55},"end":{"row":57,"column":56},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":56},"end":{"row":57,"column":57},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":54},"end":{"row":57,"column":57},"action":"remove","lines":["cli"]},{"start":{"row":57,"column":54},"end":{"row":57,"column":60},"action":"insert","lines":["clicks"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":60},"end":{"row":57,"column":61},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":61},"end":{"row":57,"column":62},"action":"insert","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":62},"end":{"row":57,"column":63},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":63},"end":{"row":57,"column":64},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":62},"end":{"row":57,"column":63},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":60},"end":{"row":57,"column":61},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":55},"end":{"row":87,"column":56},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":56},"end":{"row":87,"column":58},"action":"insert","lines":["||"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":58},"end":{"row":87,"column":59},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":59},"end":{"row":87,"column":60},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":60},"end":{"row":87,"column":61},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":61},"end":{"row":87,"column":62},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":62},"end":{"row":87,"column":63},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":63},"end":{"row":87,"column":64},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":64},"end":{"row":87,"column":65},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":65},"end":{"row":87,"column":66},"action":"insert","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":65},"end":{"row":87,"column":66},"action":"remove","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":65},"end":{"row":87,"column":66},"action":"insert","lines":[">"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":66},"end":{"row":87,"column":67},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":21},"end":{"row":87,"column":68},"action":"remove","lines":["if(event.target.nodeName === \"IMG\" || clicks>2)"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":20},"end":{"row":87,"column":21},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":17},"end":{"row":56,"column":18},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":18},"end":{"row":56,"column":20},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":19},"end":{"row":56,"column":20},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":20},"end":{"row":56,"column":21},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":21},"end":{"row":56,"column":22},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":22},"end":{"row":56,"column":23},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":23},"end":{"row":56,"column":24},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":24},"end":{"row":56,"column":25},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":25},"end":{"row":56,"column":26},"action":"insert","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":26},"end":{"row":56,"column":27},"action":"insert","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":26},"end":{"row":56,"column":27},"action":"remove","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":25},"end":{"row":56,"column":26},"action":"remove","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":24},"end":{"row":56,"column":25},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":23},"end":{"row":56,"column":24},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":22},"end":{"row":56,"column":23},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":21},"end":{"row":56,"column":22},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":20},"end":{"row":56,"column":21},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":19},"end":{"row":56,"column":20},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":18},"end":{"row":56,"column":20},"action":"remove","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":17},"end":{"row":56,"column":18},"action":"remove","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":56,"column":16},"end":{"row":56,"column":17},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":61},"end":{"row":57,"column":62},"action":"remove","lines":["3"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":61},"end":{"row":57,"column":62},"action":"insert","lines":["2"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":55,"column":33},"action":"remove","lines":["//p.innerHTML = \"Antal gissningar: \"+numberOfGuesses;","                //console.log(\"antal gissningar\"+numberOfGuesses);","                //var e = event.target;","                //console.log(e);"]}]}],[{"group":"doc","deltas":[{"start":{"row":52,"column":16},"end":{"row":53,"column":16},"action":"remove","lines":["","                "]}]}]]},"ace":{"folds":[],"scrolltop":780,"scrollleft":0,"selection":{"start":{"row":74,"column":76},"end":{"row":74,"column":76},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":54,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1417991254355}