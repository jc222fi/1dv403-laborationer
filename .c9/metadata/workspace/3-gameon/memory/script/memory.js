{"changed":true,"filter":false,"title":"memory.js","tooltip":"/3-gameon/memory/script/memory.js","value":"\"use strict\";\nvar MemoryGame = {\n    \n    memoryBoard: [],\n    \n    init: function(){\n        \n        MemoryGame.createGameBoard(4,4);\n        \n    },\n    \n    createGameBoard: function(rows, cols){\n        \n        var clicks = 0;\n        var clickedTiles = [];\n        var body = \"\";\n        var p = \"\";\n        var tds = \"\";\n        var td = \"\";\n        var a = \"\";\n        var imgFront = \"\";\n        var imgBack = \"\";\n        var i = 0;\n        var numberOfGuesses = 0;\n        var matches = 0;\n        MemoryGame.memoryBoard = new RandomGenerator.getPictureArray(rows, cols); //Genererar ett antal rader i ett antal kolumner\n        var arrayOfTiles = MemoryGame.memoryBoard;\n        console.log(arrayOfTiles);\n        \n        body = document.querySelector(\"BODY\");\n        p = document.createElement(\"P\");\n        body.appendChild(p);\n        \n        //Skapa brädet\n        MemoryGame.createBoard(rows, cols);\n        \n        //Plockar ut alla td element och skjuter in en bild\n        tds = document.querySelectorAll(\"#memorygame td\");\n        for(i=0; i<tds.length; i++){\n            td = tds[i];\n            \n            a = document.createElement(\"A\");\n            a.href = \"#\";\n            imgFront = document.createElement(\"IMG\");\n            imgBack = document.createElement(\"IMG\");\n            imgBack.src = \"pics/0.png\";\n            imgFront.src = \"pics/\"+arrayOfTiles[i]+\".png\";\n            a.appendChild(imgBack);\n            a.appendChild(imgFront);\n            td.appendChild(a);\n            \n            a.onclick = function(event){\n                \n                //Om du klickar på en ej uppvänd bricka\n                if(event.target.getAttribute(\"SRC\") ===\"pics/0.png\" && clicks<2){\n                    event.target.parentNode.querySelector(\".faceup\").classList.toggle(\"faceup\");\n                    event.target.classList.toggle(\"facedown\");\n                    clickedTiles.push(event.target);\n                    clicks++;\n                    \n                    //Kolla så att det inte är en tredje bricka som vänds upp, och om de matchar\n                    if(clicks === 2 && clickedTiles[0].nextSibling.getAttribute(\"src\") === clickedTiles[1].nextSibling.getAttribute(\"src\")){\n                        console.log(\"Grattis du har hittat ett par\");\n                        clickedTiles.length = 0;\n                        clicks = 0;\n                        numberOfGuesses++;\n                        matches++;\n                        //Har du hittat alla par har du vunnit\n                        if(matches === (rows*cols)/2){\n                            p.innerHTML = \"GRATTIS! Du klarade det på \"+numberOfGuesses+\" gissningar\";\n                        }\n                    }\n                    //Om inget par, vänd tillbaka med en halv sekunds fördröjning\n                    else if(clicks === 2 && clickedTiles[0].nextSibling.getAttribute(\"src\") != clickedTiles[1].nextSibling.getAttribute(\"src\")){\n                        console.log(\"Inget par\");\n                        numberOfGuesses++;\n                        \n                        setTimeout(function() {\n                            clickedTiles[0].parentNode.querySelector(\".facedown\").classList.toggle(\"facedown\");\n                            clickedTiles[1].parentNode.querySelector(\".facedown\").classList.toggle(\"facedown\");\n                            clickedTiles[0].parentNode.firstChild.nextSibling.classList.toggle(\"faceup\");\n                            clickedTiles[1].parentNode.firstChild.nextSibling.classList.toggle(\"faceup\");\n                            clicks = 0;\n                            clickedTiles.length = 0;\n                        }, 500);\n                    }\n                }\n                //Om du försöker vända en tredje bricka eller en som redan är uppvänd\n                else{\n                    console.log(\"Du kan inte klicka på den här\");\n                }\n                return false;\n            };\n            imgFront.setAttribute(\"class\", \"faceup\");\n        }  \n    },\n    \n    createBoard: function(rows, cols){\n        \n        var gameBoard = document.getElementById(\"memorygame\");\n        var rowCount = 0;\n        var cellCount = 0;\n        var tableHead = document.createElement(\"THEAD\");\n        var tableFoot = document.createElement(\"TFOOT\");\n        var tableRow = document.createElement(\"TR\");\n        var tableCell = document.createElement(\"TD\");\n        var i = 0;\n        \n        gameBoard.appendChild(tableHead);\n        tableHead.appendChild(tableRow);\n        gameBoard.appendChild(tableFoot);\n        \n        //Skapar tabellen\n        for(rowCount=0; rowCount<rows; rowCount++){\n            tableRow = document.createElement(\"TR\");\n            gameBoard.appendChild(tableRow);\n            for(cellCount=0; cellCount<cols; cellCount++){\n                tableCell = document.createElement(\"TD\");\n                tableRow.appendChild(tableCell);\n                i++;\n            }\n        }\n        \n    }\n};\n\nwindow.onload = MemoryGame.init;","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":88,"column":23},"end":{"row":88,"column":24},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":24},"end":{"row":88,"column":25},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":25},"end":{"row":88,"column":26},"action":"insert","lines":["ö"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":26},"end":{"row":88,"column":27},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":27},"end":{"row":88,"column":28},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":28},"end":{"row":88,"column":29},"action":"insert","lines":["ö"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":29},"end":{"row":88,"column":30},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":30},"end":{"row":88,"column":31},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":31},"end":{"row":88,"column":32},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":32},"end":{"row":88,"column":33},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":33},"end":{"row":88,"column":34},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":34},"end":{"row":88,"column":35},"action":"insert","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":35},"end":{"row":88,"column":36},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":36},"end":{"row":88,"column":37},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":37},"end":{"row":88,"column":38},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":38},"end":{"row":88,"column":39},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":39},"end":{"row":88,"column":40},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":40},"end":{"row":88,"column":41},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":41},"end":{"row":88,"column":42},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":42},"end":{"row":88,"column":43},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":43},"end":{"row":88,"column":44},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":44},"end":{"row":88,"column":45},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":45},"end":{"row":88,"column":46},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":46},"end":{"row":88,"column":47},"action":"insert","lines":["j"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":47},"end":{"row":88,"column":48},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":48},"end":{"row":88,"column":49},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":49},"end":{"row":88,"column":50},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":50},"end":{"row":88,"column":51},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":51},"end":{"row":88,"column":52},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":52},"end":{"row":88,"column":53},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":53},"end":{"row":88,"column":54},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":54},"end":{"row":88,"column":55},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":55},"end":{"row":88,"column":56},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":56},"end":{"row":88,"column":57},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":57},"end":{"row":88,"column":58},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":58},"end":{"row":88,"column":59},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":59},"end":{"row":88,"column":60},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":60},"end":{"row":88,"column":61},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":61},"end":{"row":88,"column":62},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":36},"end":{"row":90,"column":45},"action":"remove","lines":["har redan"]},{"start":{"row":90,"column":36},"end":{"row":90,"column":37},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":37},"end":{"row":90,"column":38},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":38},"end":{"row":90,"column":39},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":39},"end":{"row":90,"column":40},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":40},"end":{"row":90,"column":41},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":41},"end":{"row":90,"column":42},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":42},"end":{"row":90,"column":43},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":43},"end":{"row":90,"column":44},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":44},"end":{"row":90,"column":45},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":45},"end":{"row":90,"column":46},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":46},"end":{"row":90,"column":47},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":47},"end":{"row":90,"column":48},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":48},"end":{"row":90,"column":49},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":49},"end":{"row":90,"column":50},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":50},"end":{"row":90,"column":51},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":52},"end":{"row":90,"column":53},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":53},"end":{"row":90,"column":54},"action":"insert","lines":["å"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":53},"end":{"row":90,"column":54},"action":"remove","lines":["å"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":52},"end":{"row":90,"column":53},"action":"remove","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":51},"end":{"row":90,"column":52},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":62},"end":{"row":88,"column":63},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":62},"end":{"row":88,"column":63},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":62},"end":{"row":88,"column":63},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":63},"end":{"row":88,"column":64},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":64},"end":{"row":88,"column":65},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":65},"end":{"row":88,"column":66},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":66},"end":{"row":88,"column":67},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":67},"end":{"row":88,"column":68},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":68},"end":{"row":88,"column":69},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":69},"end":{"row":88,"column":70},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":70},"end":{"row":88,"column":71},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":71},"end":{"row":88,"column":72},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":72},"end":{"row":88,"column":73},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":73},"end":{"row":88,"column":74},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":74},"end":{"row":88,"column":75},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":75},"end":{"row":88,"column":76},"action":"insert","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":76},"end":{"row":88,"column":77},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":77},"end":{"row":88,"column":78},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":78},"end":{"row":88,"column":79},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":79},"end":{"row":88,"column":80},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":80},"end":{"row":88,"column":81},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":81},"end":{"row":88,"column":82},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":82},"end":{"row":88,"column":83},"action":"insert","lines":["ä"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":83},"end":{"row":88,"column":84},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":84},"end":{"row":88,"column":85},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":22},"end":{"row":89,"column":23},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":22},"end":{"row":89,"column":23},"action":"remove","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":67},"end":{"row":54,"column":68},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":81},"end":{"row":55,"column":58},"action":"remove","lines":["","                    console.log(event.target.nextSibling);"]}]}]]},"ace":{"folds":[],"scrolltop":1020,"scrollleft":0,"selection":{"start":{"row":54,"column":81},"end":{"row":54,"column":81},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":71,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1418056135395}